## ğŸ” Overview

- **Master VM** (Ubuntu 24.04 LTS in a VM):  
  - **Mosquitto** MQTT broker (commandsÂ â†”Â telemetry)  
  - **Nodeâ€‘RED** flow engine + Dashboard HMI (recipe editor, live charts, start/stop)  
  - **InfluxDB** for timeâ€‘series telemetry storage  
  - **Grafana** for richer historical dashboards  

- **Slave Nodes** (RaspberryÂ Pi or Windows PC connected to arduino or similar):  
  - Subscribe to `plant/<node_id>/cmd`  
  - Execute commands (stir, pump, temp control) via GPIO or simulated code  
  - Publish telemetry to `plant/<node_id>/telemetry/<metric>`  

---

## âš™ï¸ Prerequisites

- **Master VM**  
  - Ubuntu ServerÂ 24.04 LTS  
  - 2Â vCPU, â‰¥2Â GB RAM, â‰¥20Â GB disk  
- **Slave Node**  
  - PythonÂ 3.8+ with Python/Nodeâ€‘RED + GPIO libraries  
  - `pip install paho-mqtt` (for Python dummy node) 
  - MQTT network connectivity to Master (portÂ 1883)

---

## ğŸš€ Master Node Setup
Import OVA


ğŸ“ Folder Structure
osf/
â”œâ”€â”€ syringe_pump_mqtt_agent.py
â””â”€â”€ tip_profiles/
    â””â”€â”€ 14g.csv
    â””â”€â”€ 18g.csv
    â””â”€â”€ 21g.csv
    â””â”€â”€ 23g.csv

ğŸ“„ Example tip_profiles/18g.csv:
ml_per_min,rpm
5,20
10,40
15,60
20,80

ğŸ›°ï¸ Example MQTT command:
{
  "flow": {
    "rate": 15,
    "tip": "18g",
    "units": "ml_per_min",
    "duration": 30
  }
}
